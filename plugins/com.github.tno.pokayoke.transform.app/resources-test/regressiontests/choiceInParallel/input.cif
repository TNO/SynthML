enum UnknownDrink = Coffee, Tea, Unknown;
    // events.
    controllable c_Turn_Computer_On;
    controllable c_Starting_Computer;
    controllable c_Drink_Coffee;
    controllable c_Drink_Tea;
    controllable c_Start_Working;

    controllable c_Flip_A_Coin;
    uncontrollable u_Coin_Facing_Up;
    uncontrollable u_Coin_Facing_Down;

plant Spec:

    // state.
    disc bool Is_Computer_Ready = false;
    disc bool Is_Computer_On = false;
    disc UnknownDrink Coffee_or_Tea = Unknown;
    disc bool Has_Drank_Coffee_or_Tea = false;
    disc bool Is_Ready_to_Work = false;

    location Home:
        initial;
        marked;

        edge c_Turn_Computer_On when not Is_Computer_Ready and not Is_Computer_On do Is_Computer_On := true;
        edge c_Starting_Computer when not Is_Computer_Ready and Is_Computer_On  do Is_Computer_Ready := true;
        edge c_Flip_A_Coin when Is_Computer_On and not Has_Drank_Coffee_or_Tea and Coffee_or_Tea = Unknown;
        edge u_Coin_Facing_Up when Is_Computer_On and not Has_Drank_Coffee_or_Tea and Coffee_or_Tea = Unknown do Coffee_or_Tea:= Coffee;
        edge u_Coin_Facing_Down when Is_Computer_On and not Has_Drank_Coffee_or_Tea and Coffee_or_Tea = Unknown do Coffee_or_Tea:= Tea;
        edge c_Drink_Coffee when not Has_Drank_Coffee_or_Tea and Coffee_or_Tea = Coffee do Has_Drank_Coffee_or_Tea := true, Coffee_or_Tea:= Unknown;
        edge c_Drink_Tea when not Has_Drank_Coffee_or_Tea and Coffee_or_Tea = Tea do Has_Drank_Coffee_or_Tea := true, Coffee_or_Tea:= Unknown;
        edge c_Start_Working when Has_Drank_Coffee_or_Tea and Is_Computer_Ready do Is_Ready_to_Work:= true;
end

plant automaton constraint:
     location idle:
     initial;marked;
     edge c_Flip_A_Coin goto busy;
     edge c_Turn_Computer_On goto idle;
     edge c_Starting_Computer goto idle;
     edge c_Drink_Coffee goto idle;
     edge c_Drink_Tea goto idle;
     edge c_Start_Working goto idle;
     location busy:
     edge u_Coin_Facing_Up goto idle;
     edge u_Coin_Facing_Down goto idle;
 end

requirement def PostCondition(alg bool condition):
    controllable c_satisfied;

    location NotSatisfied:
        initial;
        edge c_satisfied when condition goto Satisfied;
    location Satisfied:
        marked;
end

requirement def HappensAtMostOnce(controllable c_event):
    location NotYetOccurred:
        initial;
        marked;
        edge c_event goto Occurred;
    location Occurred:
        marked;
end

Turn_Computer_On_happens_once : HappensAtMostOnce(c_Turn_Computer_On);
Drink_Coffee_happens_once : HappensAtMostOnce(c_Drink_Coffee);
Drink_Tea_happens_once : HappensAtMostOnce(c_Drink_Tea);
Start_Working_happens_once : HappensAtMostOnce(c_Start_Working);
Starting_Computer_happens_once : HappensAtMostOnce(c_Starting_Computer);
//Flip_A_Coin_happens_once : HappensAtMostOnce(c_Flip_A_Coin);

// Postconditions.
Post : PostCondition(
    Spec.Is_Computer_On and
    Spec.Is_Computer_Ready and
    Spec.Has_Drank_Coffee_or_Tea and
    Spec.Is_Ready_to_Work
);
